<template>
  <v-container fluid class="mb-2">
    <v-row v-if="panelType === 'form'">
      <v-col cols="auto">
        <v-btn @click="$emit('cancel')"> Отмена </v-btn>
      </v-col>
      <v-col cols="auto">
        <v-btn
          :disabled="disabledSubmit"
          color="secondary"
          @click="$emit('submit')"
        >
          {{ submitTitle ? submitTitle : 'Сохранить и закрыть' }}
        </v-btn>
      </v-col>
      <v-col v-if="showSaveBtn" cols="auto">
        <v-btn icon :disabled="disabledSubmit" @click="$emit('save')">
          <v-icon>mdi-content-save</v-icon>
        </v-btn>
      </v-col>
      <v-col>
        <slot />
      </v-col>
    </v-row>
    <v-row v-else-if="panelType === 'list'">
      <v-col cols="auto">
        <v-btn :disabled="disabledRefresh" @click="$emit('refresh')">
          Обновить
        </v-btn>
      </v-col>
      <v-col cols="auto">
        <v-btn
          :disabled="disabledSubmit"
          color="secondary"
          @click="$emit('submit')"
        >
          Создать
        </v-btn>
      </v-col>
      <v-col>
        <slot />
      </v-col>
    </v-row>
  </v-container>
</template>
<script lang="ts">
import { defineComponent } from 'vue'
export default defineComponent({
  props: {
    submitTitle: { type: String },
    disabledSubmit: { type: Boolean, default: false },
    disabledRefresh: { type: Boolean, default: false },
    showSaveBtn: { type: Boolean, default: false },
    panelType: {
      type: String,
      require: true,
      validator: (value: string): boolean => ['form', 'list'].includes(value),
    },
  },
  emits: ['submit', 'refresh', 'save', 'cancel'],
})
</script>
<style></style>
