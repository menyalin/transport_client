# Руководство по линтингу проекта

## Обзор

В проекте настроен ESLint с поддержкой Vue 3 и Vuetify. Линтер помогает поддерживать качество кода и соответствие современным стандартам разработки.

## Команды

- **Проверка кода**: `npm run lint` - проверяет все файлы в `src`
- **Проверка с исправлением**: `npm run lint -- --fix` - автоматически исправляет возможные ошибки

## Основные правила

### Vue 3
- Обнаружение устаревших компонентов и свойств Vuetify 2
- Предупреждения об устаревших событиях
- Проверка основных синтаксических ошибок

### JavaScript
- Стандартные правила ESLint для синтаксиса
- Проверка неиспользуемых переменных (игнорируются переменные, начинающиеся с `_`)

## Частые проблемы и их решение

### 1. Устаревшие свойства Vuetify

**Проблема**: `'dense' has been removed`
**Решение**: Заменить `dense` на `density="compact"`

```vue
<!-- Было -->
<v-text-field dense outlined>

<!-- Стало -->
<v-text-field density="compact" variant="outlined">
```

**Проблема**: `'offset-y' has been removed`
**Решение**: Заменить на `offsetY`

```vue
<!-- Было -->
<v-menu offset-y>

<!-- Стало -->
<v-menu offsetY>
```

**Проблема**: `'server-items-length' has been replaced with '<v-data-table-server>'`
**Решение**: Использовать компонент `<v-data-table-server>` вместо `<v-data-table>`

```vue
<!-- Было -->
<v-data-table :server-items-length="total">

<!-- Стало -->
<v-data-table-server :items-length="total">
```

### 2. Мутация пропсов

**Проблема**: `Unexpected mutation of "settings" prop`
**Решение**: Не изменять пропсы напрямую, использовать emit для обновления

```javascript
// Плохо
props.settings.search = value

// Хорошо
emit('update:settings', { ...props.settings, search: value })
```

### 3. Дублирующиеся атрибуты

**Проблема**: `Duplicate attribute 'variant'`
**Решение**: Удалить дублирующийся атрибут

### 4. Устаревшие модификаторы

**Проблема**: `'.native' modifier on 'v-on' directive is deprecated`
**Решение**: Удалить модификатор `.native`

```vue
<!-- Было -->
<component @event.native="handler" />

<!-- Стало -->
<component @event="handler" />
```

### 5. Порядок свойств в Vue компонентах

**Проблема**: Свойства находятся в неправильном порядке
**Решение**: Соблюдать порядок:
1. `name`
2. `components`
3. `props`
4. `emits`
5. `setup`
6. `data`
7. `computed`
8. `watch`
9. `methods`
10. Хуки жизненного цикла

## Игнорирование файлов

Для игнорирования файлов при линтинге можно использовать комментарии:

```javascript
/* eslint-disable */
код, который нужно игнорировать
/* eslint-enable */

// Или для конкретной строки
const problematicCode = 'ignored' // eslint-disable-line
```

## Настоятельно рекомендуемые исправления

1. **Заменить все `dense` на `density="compact"`**
2. **Заменить `outlined` на `variant="outlined"`**
3. **Заменить `hide-details` на `hideDetails`**
4. **Использовать `<v-data-table-server>` для серверной пагинации**
5. **Избегать прямой мутации пропсов**

## Постепенное внедрение

Рекомендуется исправлять ошибки постепенно, начиная с критичных:

1. Сначала исправить ошибки (errors)
2. Затем предупреждения (warnings) для критичных компонентов
3. В последнюю очередь обрабатывать стилистические предупреждения

## Автоматизация

Для автоматического форматирования кода можно:

1. Добавить pre-commit хук для запуска линтера
2. Настроить IDE для автоматического исправления при сохранении
3. Использовать Git hooks для проверки коммитов